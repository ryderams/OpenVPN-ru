# OpenVPN ‚Äî –ë—ã—Å—Ç—Ä–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

## üöÄ 1. VPS —Å –±–æ–Ω—É—Å–æ–º

–î–ª—è –∑–∞–ø—É—Å–∫–∞ OpenVPN –Ω—É–∂–µ–Ω —Å–µ—Ä–≤–µ—Ä (VPS).  
–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º –≤–∑—è—Ç—å —É **AdminVPS** –∏ –ø–æ–ª—É—á–∏—Ç—å –±–æ–Ω—É—Å:  

üëâ [AdminVPS](https://my.adminvps.ru/aff.php?aff=28722)  
üéÅ –ü—Ä–æ–º–æ–∫–æ–¥: **OPEN** ‚Äî —Å–∫–∏–¥–∫–∞ 60% –Ω–∞ –ø–µ—Ä–≤—ã–π –º–µ—Å—è—Ü. 

---

## ‚ö° 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ OpenVPN

–°–∫–∞—á–∞–π—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏:

```bash
wget -O openvpn.sh https://get.vpnsetup.net/ovpn
sudo bash openvpn.sh --auto
```

### üîë –†–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã —Å–∫—Ä–∏–ø—Ç–∞
 - `--auto` ‚Äî –ø–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.

> –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –≤ —Ä–µ–∂–∏–º–µ `--auto` —Å–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—ë—Ç –ø–µ—Ä–≤–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞ ‚Äî –µ–≥–æ –∏–º—è –≤—ã–≤–æ–¥–∏—Ç—Å—è –≤ –∫–æ–Ω—Ü–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏. –ß—Ç–æ–±—ã —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –Ω–∞–ø—Ä—è–º—É—é, –º–æ–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å:

```bash
sudo bash openvpn.sh --exportclient <–∏–º—è> > <–∏–º—è>.ovpn
```

–ì–æ—Ç–æ–≤—ã–π `.ovpn` –ø—Ä–∏ `--auto` –º–æ–∂–µ—Ç —Å–æ—Ö—Ä–∞–Ω—è—Ç—å—Å—è –≤ –¥–æ–º–∞—à–Ω–µ–π –ø–∞–ø–∫–µ `root` (`/root`). –ï—Å–ª–∏ —Ñ–∞–π–ª –æ—Å—Ç–∞–ª—Å—è —Ç–∞–º, –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –∏ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ:

```bash
sudo ls /root/*.ovpn     # –ø–æ–∫–∞–∑–∞—Ç—å –≥–æ—Ç–æ–≤—ã–µ .ovpn —Ñ–∞–π–ª—ã
sudo cp /root/<–∏–º—è>.ovpn ./  # —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª –≤ —Ç–µ–∫—É—â—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
sudo chown $(whoami):$(whoami) ./<–∏–º—è>.ovpn  # (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) —Å–º–µ–Ω–∏—Ç—å –≤–ª–∞–¥–µ–ª—å—Ü–∞
```

---

## üõ† 3. –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã —Å–∫—Ä–∏–ø—Ç–∞

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–µ –∂–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

```bash
sudo bash openvpn.sh --help
```

–î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–ª—é—á–∏:

- `--addclient [–∏–º—è]` ‚Äî –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞.  
- `--exportclient [–∏–º—è]` ‚Äî —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –∫–ª–∏–µ–Ω—Ç–∞ –≤ `.ovpn`.  
- `--listclients` ‚Äî –≤—ã–≤–µ—Å—Ç–∏ —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤.  
- `--revokeclient [–∏–º—è]` ‚Äî –æ—Ç–æ–∑–≤–∞—Ç—å/—É–¥–∞–ª–∏—Ç—å –∫–ª–∏–µ–Ω—Ç–∞.  
- `--uninstall` ‚Äî —É–¥–∞–ª–∏—Ç—å OpenVPN –∏ –≤—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.  
- `--yes` / `-y` ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–≤–µ—á–∞—Ç—å "–¥–∞" –Ω–∞ –≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã.  
- `--listenaddr [IP]` ‚Äî –∑–∞–¥–∞—Ç—å IP-–∞–¥—Ä–µ—Å, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –±—É–¥–µ—Ç —Å–ª—É—à–∞—Ç—å —Å–µ—Ä–≤–µ—Ä.  
- `--serveraddr [DNS/IP]` ‚Äî —É–∫–∞–∑–∞—Ç—å –¥–æ–º–µ–Ω –∏–ª–∏ IP —Å–µ—Ä–≤–µ—Ä–∞.  
- `--proto [UDP/TCP]` ‚Äî –≤—ã–±—Ä–∞—Ç—å –ø—Ä–æ—Ç–æ–∫–æ–ª (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é UDP).  
- `--port [–Ω–æ–º–µ—Ä]` ‚Äî –ø–æ—Ä—Ç —Å–µ—Ä–≤–µ—Ä–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 1194).  

---

## üë§ 4. –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –î–æ–±–∞–≤–∏—Ç—å –∫–ª–∏–µ–Ω—Ç–∞:
```bash
sudo bash openvpn.sh --addclient user1
```

### –ü–æ–ª—É—á–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥ –∫–ª–∏–µ–Ω—Ç–∞:
```bash
sudo bash openvpn.sh --exportclient user1 > user1.ovpn
```

### –°–ø–∏—Å–æ–∫ –∫–ª–∏–µ–Ω—Ç–æ–≤:
```bash
sudo bash openvpn.sh --listclients
```

### –£–¥–∞–ª–∏—Ç—å –∫–ª–∏–µ–Ω—Ç–∞:
```bash
sudo bash openvpn.sh --revokeclient user1
```

### –£–¥–∞–ª–∏—Ç—å OpenVPN –ø–æ–ª–Ω–æ—Å—Ç—å—é:
```bash
sudo bash openvpn.sh --uninstall
```

---

## ‚ùì 5. FAQ

| –í–æ–ø—Ä–æ—Å | –†–µ—à–µ–Ω–∏–µ |
|--------|---------|
| –ö–ª–∏–µ–Ω—Ç –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è | –ü—Ä–æ–≤–µ—Ä—å –æ—Ç–∫—Ä—ã—Ç –ª–∏ –ø–æ—Ä—Ç UDP/1194 –≤ —Ñ–∞–µ—Ä–≤–æ–ª–µ |
| TLS Error: TLS key negotiation failed | –ü—Ä–æ–≤–µ—Ä—å —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –∏ –¥–∞—Ç—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ |
| –ù–µ—Ç –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞ —á–µ—Ä–µ–∑ VPN | –î–æ–±–∞–≤—å –ø—Ä–∞–≤–∏–ª–∞ NAT/—Ñ–æ—Ä–≤–∞—Ä–¥–∏–Ω–≥–∞ (iptables/ufw) |
| –•–æ—á—É TCP –≤–º–µ—Å—Ç–æ UDP | –£—Å—Ç–∞–Ω–æ–≤–∏ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º `--proto tcp` |

---

## üìå 6. –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏
- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è OpenVPN](https://openvpn.net/community-resources/)  
- [–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å–∫—Ä–∏–ø—Ç–∞](https://github.com/hwdsl2/openvpn-install)  
- [AdminVPS](https://my.adminvps.ru/aff.php?aff=28722) ‚Äî –ø—Ä–æ–º–æ–∫–æ–¥ **OPEN** (60% –Ω–∞ –ø–µ—Ä–≤—ã–π –º–µ—Å—è—Ü)  

---

üí° –¢–µ–ø–µ—Ä—å —É —Ç–µ–±—è –µ—Å—Ç—å –±—ã—Å—Ç—Ä—ã–π —Å–ø–æ—Å–æ–± —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å OpenVPN –Ω–∞ VPS –≤—Å–µ–≥–æ –∑–∞ –ø–∞—Ä—É –º–∏–Ω—É—Ç!
